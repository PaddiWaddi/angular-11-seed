@import 'variables';

:host {
  &:active {
    @apply scale-90;
  }

  @apply inline-block transition outline-none;
}

.app-button {
  $styleRegular: #{&}--style-regular;
  $styleText: #{&}--style-text;

  $colorRegular: #{&}--color-regular;
  $colorPrimary: #{&}--color-primary;
  $colorDanger: #{&}--color-danger;

  $focused: #{&}--focused;
  $loading: #{&}--loading;
  $loadingError: #{&}--loading-error;

  will-change: contents;

  &[disabled],
  &#{loading} {
    @apply cursor-default duration-500;
  }

  &#{loading} {
    @apply scale-x-150 duration-1000;
  }

  &#{$loadingError} {
    @apply animate-shake-error;
  }

  &#{$focused} {
    @apply ring-4;
  }

  /* FILLED STYLE */
  &#{$styleRegular} {
    &#{$colorRegular} {
      &[disabled] {
        @apply opacity-25;
      }

      &#{$focused} {
        @apply bg-fill-5;
      }

      @apply bg-fill-6 text-label-primary;
      @apply hover:bg-fill-5 hover:text-label-primary;
    }

    &#{$colorPrimary} {
      &[disabled] {
        @apply opacity-25;
      }

      &#{$focused} {
        @apply bg-tint-primary-2 ring-tint-primary-4;
      }

      @apply bg-tint-primary-3 text-label-primary;
      @apply hover:bg-tint-primary-2 hover:text-label-primary;
    }

    &#{$colorDanger} {
      &[disabled] {
        @apply opacity-25;
      }

      &#{$focused} {
        @apply bg-tint-danger-2 ring-tint-danger-4;
      }

      @apply bg-tint-danger-3 text-label-primary;
      @apply hover:bg-tint-danger-2 hover:text-label-primary;
    }
  }

  /* TEXT STYLE */
  &#{$styleText} {
    &#{$colorRegular} {
      &[disabled] {
        @apply opacity-25;
      }

      &#{$focused} {
        @apply bg-fill-5;
      }

      @apply bg-transparent text-label-primary;
      @apply hover:bg-fill-5 hover:text-label-primary;
    }
  }

  &__prefix {
    #{$loading} & {
      @apply opacity-0;
    }

    @apply mr-xs inline-flex align-middle transition-opacity;
  }

  &__suffix {
    #{$loading} & {
      @apply opacity-0;
    }

    @apply ml-xs inline-flex align-middle transition-opacity;
  }

  &__content {
    #{$loading} & {
      @apply opacity-0 scale-75;
    }

    @apply scale-100;
  }

  &__loading {
    #{$loading} & {
      @apply opacity-100 scale-100;
    }

    @apply transition-all absolute flex justify-center items-center top-0 right-0 bottom-0 left-0 opacity-0 scale-150 pointer-events-none;
  }

  @apply after:absolute after:-top-s after:-left-s after:-right-s after:-bottom-s;
  @apply select-none animate-none relative flex justify-center transition-all  appearance-none outline-none;
  @apply px-s py-xs rounded-md ring-0 ring-tint-primary-3;
}
