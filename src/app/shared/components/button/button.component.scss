@import 'variables';

:host {
  display: inline-block;
}

.app-button {
  $styleRegular: #{&}--style-regular;
  $styleText: #{&}--style-text;
  $colorRegular: #{&}--color-regular;
  $colorPrimary: #{&}--color-primary;

  $loading: #{&}--loading;
  $loadingError: #{&}--loading-error;

  &[disabled],
  &#{loading} {
    @apply cursor-default;
  }

  &#{$loadingError} {
    @apply animate-shake-error;
  }

  /* FILLED STYLE */
  &#{$styleRegular} {
    &#{$colorRegular} {
      &[disabled] {
        @apply bg-gray-800 text-gray-500;
      }

      @apply bg-gray-600;
      @apply hover:bg-gray-500 active:bg-gray-400;
    }
  }

  /* TEXT STYLE */
  &#{$styleText} {
    &#{$colorRegular} {
      &[disabled] {
        @apply bg-transparent;
      }

      @apply bg-transparent text-white;
      @apply hover:bg-gray-800 active:bg-gray-600;
    }
  }

  &__prefix {
    #{$loading} & {
      @apply opacity-20;
    }

    @apply mr-xs inline-flex align-middle transition-opacity;
  }

  &__suffix {
    #{$loading} & {
      @apply opacity-20;
    }

    @apply ml-xs inline-flex align-middle transition-opacity;
  }

  &__content {
    #{$loading} & {
      @apply opacity-20 scale-75;
    }

    @apply scale-100 transition;
  }

  &__loading {
    position: absolute;
    display: flex;
    justify-content: center;
    align-items: center;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    transform: scale(2);
    transition: opacity 0.3s, transform 0.3s ease;
    pointer-events: none;
    user-select: none;

    #{$loading} & {
      opacity: 1;
      transform: scale(1);
    }
  }

  @apply after:absolute after:-top-s after:-left-s after:-right-s after:-bottom-s;
  @apply select-none animate-none relative flex transition appearance-none outline-none;
  @apply px-s py-xs rounded-md text-white  ring-0 ring-brand-500;
  @apply focus:ring-2 focus:ring-brand-500;
}
